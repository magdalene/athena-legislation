{% load static %}

<!doctype html>

<html lang="en">
<head>
    {% include "frontend/header.html" %}

    <script>
        function updateSaveLinkHref() {
            var savedSearchLink = document.getElementById('search-link');
            var name = document.getElementById('search-name').value;
            savedSearchLink.setAttribute('href', "/legis/save-search?{{ query }}&name=" + encodeURIComponent(name));
        }
    </script>
</head>

<body>
{% include "frontend/top-navbar.html" %}

<div class="container">
    <div class="col-lg-10">
    <h3>Search Results ({{ start_index }}...{{ end_index }} / {{ total }})</h3>
    <dl class="dl-horizontal">
        {% if not hits %}
            No results...
         {% endif %}
        {% for result in hits %}
        <a href="/legis/bill/{{ result.id }}">
            <dt class="result">{{ result.number }}</dt>
            <dd class="result">{{ result.highlight|safe }}</dd>
        </a>
        {% endfor %}
    </dl>
    </div>
</div>

<div class="bottom-nav col-lg-8 col-lg-offset-1">
    {% if page != 0 %}
        <a class="pull-left navbar-text" href="/legis/search?{{ query }}&page={{ page|add:"-1" }}">Prev</a>
    {% endif %}
        <span class="navbar-text"><input type="text" onkeyup="updateSaveLinkHref()" id="search-name" placeholder="Name your saved search" name="search-name"/><a id="search-link" class="save-search-link" href="">Save Search</a></span>
    {% if more_pages %}
        <a class="pull-right navbar-text" href="/legis/search?{{ query }}&page={{ page|add:1 }}">Next</a>
    {% endif %}
</div>
{% include "frontend/footer.html" %}
</body>
</html>